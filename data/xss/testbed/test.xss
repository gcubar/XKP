// 
// Test example
//
<xss:class entry_point="generate_test">
    method qt_placement(string pl)
    {
        for(int i = 0; i < xs_placement_values.size; ++i)
        {
            if(xs_placement_values[i] == pl)
                return qt_placement_values[i];
        }
        
        return pl;
    }
  
    method generate_test()
	{
		//ESC: A + B + C
		string xxx = application.id + 23 + " yup";
		compiler.log(xxx);

	    int idx = 0;
		int size = 1;

		// why the variant type don'st appeard in array yet?
		// array<var> queue = [];
		
	    array queue = [];
		queue += application;

		while(idx < size)
		{
			// this line dispatch a type mismatch error
			// ESC: funciona, pero algo se rompio y no se donde (es una historia larga)
			// con esto te quiero decir que me mandes el error en cuanto suceda.
			current_cmp = queue[idx];
			
			if(current_cmp.container)
				out()
				{
					layout = addLayout();
				}

			for(var child in current_cmp.children)
			{
				child.parent = current_cmp;
				
			}
			current_cmp.parent = null;
		
			// same of 'parent' or 'name', only that, 
			// the 'container' property is declared in classes.xml
			// ESC: ditto
			if(current_cmp.container)
			{
				compiler.log("added one container");
				queue += current_cmp;
				size++;
			}
			
			idx++;
		}
		
		for(var cmp in application.children)
		{
			if(cmp.properties)
			{
				for(var p in cmp.properties)
				{
					//compiler.log(p.name);
					if(p.set || p.get)
					{
						compiler.log(p.name);
						compiler.log(p.type);
						
						// this lines dispatch a type mismatch error
						// ESC: A mi no... no se si los resultados sean correctos
						string prop_type = p.type;
						
				        string var_name = "_" + p.name;
				        string var_decl = prop_type + " " + var_name;
					}
					
					// this lines dispatch a type mismatch error 
					// ESC: Ahora pincha, receurda que los valores pueden 
					// ser null
					string prop_value = p.value;
					if (prop_value)
					{
						if(prop_value == "null")
							continue;
					}
				}
			}
		}
	}
</xss:class>
